<!-- ðŸŽµ éŸ³ä¹æ’­æ”¾å™¨ -->
<div id="music-player" class="aplayer player"
     data-id="17401109156"
     data-server="netease"
     data-type="playlist"
     data-autoplay="false">
</div>

<!-- ðŸŽ§ æŒ‰é’® -->
<button id="toggle-player-fixed" aria-pressed="false">ðŸŽ§ æ”¶èµ·</button>

<!-- ðŸ”§ JSè„šæœ¬ -->
<script src="https://cdn.jsdelivr.net/npm/aplayer@1.7.0/dist/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@1.1.0/dist/Meting.min.js"></script>

<script>
(() => {
  const container = document.getElementById('music-player');
  const btnFixed = document.getElementById('toggle-player-fixed');
  let hidden = false;

  try {
    const saved = localStorage.getItem('music_player_hidden');
    if (saved === 'true') {
      hidden = true;
      container.classList.add('hidden');
      btnFixed.textContent = 'ðŸŽ§ å±•å¼€';
      btnFixed.classList.remove('open');
    } else {
      btnFixed.textContent = 'ðŸŽ§ æ”¶èµ·';
      btnFixed.classList.add('open');
    }
  } catch(e){}

  btnFixed.addEventListener('click', () => {
    hidden = !hidden;
    if (hidden) {
      container.classList.add('hidden');
      btnFixed.textContent = 'ðŸŽ§ å±•å¼€';
      btnFixed.classList.remove('open');
    } else {
      container.classList.remove('hidden');
      btnFixed.textContent = 'ðŸŽ§ æ”¶èµ·';
      btnFixed.classList.add('open');
    }
    try { 
      localStorage.setItem('music_player_hidden', hidden ? 'true' : 'false'); 
    } catch(e){}
  });
})();
</script>
